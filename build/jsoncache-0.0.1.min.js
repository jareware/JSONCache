/*
 JSONCache version 0.0.1

 Author: Kimmo Puputti (kpuputti at gmail)

 See README.rst at https://github.com/kpuputti/JSONCache
 for requirements and usage.
*/
(function(i){var c={version:"0.0.1",debug:!0,prefix:"JSONCache",keySeparator:" "},e=function(){if(c.debug&&window.console){var b=Array.prototype.slice.call(arguments);b.unshift("JSONCache:");console.log.apply(console,b)}};c.browserOk=function(){var b=window.JSON&&typeof window.JSON.parse==="function"&&typeof window.JSON.stringify==="function",a;try{a="localStorage"in window&&window.localStorage!==null}catch(c){a=!1}return b&&a}();var d={};d.settings=c;d.getJSONProxy=function(b,a){i.ajax(b,a)};
d.getCachedJSON=function(b,a){var f=a.success,g=c.prefix+c.keySeparator+"data"+c.keySeparator+b,h=window.localStorage[g];h?(e("Value found from cache for url:",b),f(JSON.parse(h))):(e("Value not found in cache fetching data from url:",b),a.success=function(a){e("Fetched data, adding to cache for url:",b);window.localStorage[g]=JSON.stringify(a);f(a)},a.dataType="json",d.getJSONProxy(b,a))};window.JSONCache=d})(jQuery);
